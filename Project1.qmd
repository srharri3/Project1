---
title: "ST 558 | Project 1 | Team N"
author: Savannah Harrison, Andy Powers
format: html
editor: visual
---

# Introduction

This project demonstrates use of R for manipulating and processing census datasets via API. Generic functions will auto-summarize and auto-plot returned data. The document will describe how these function and provide examples.

# Data Source

We will query the *Public Use Microdata Sample (PUMS) Census API*. The API offers *pseudo person-level* data. To demonstrate our functions while avoiding memory errors, we will default to a subset of state 14 data. Users may adjust this within our function calls.

## Resources

-   [Information about the PUMS API](https://www.census.gov/data/developers/data-sets/census-microdata-api.html)
-   [Variable list (2022)](https://api.census.gov/data/2022/acs/acs1/pums/variables.html)
-   [API call examples](https://api.census.gov/data/2022/acs/acs1/pums/examples.html)
-   [Menu-based API call explorer](https://data.census.gov/mdat/#/)
-   Sample: `api.census.gov/data/2022/acs/acs1/pums?get=SEX,PWGTP,MAR&SCHL=24&key=YOUR_KEY`

## User Choices

User may choose particular variables or conditions (subsets) to be returned.

# Data Processing

To begin, we need a function that queries the API and returns a tibble. We will follow these steps for development:

1. Achieve a basic call to a sample URL.
2. Write a *helper* function to take the return from `GET()` and modify it into a `tibble`.
3. Write a function to query API, with editable parameters:
  1. Year of survey
    - Default:
      - 2022
    - Valid: 
      - Integers in [2010,2022]
  2. Numeric var(s) to return
    - Default: 
      - AGEP
      - PWGTP (req)
    - Valid: 
      - AGEP
      - GASP
      - GRPIP
      - JWAP (time)
      - JWDP (time)
      - JWMNP
    - Conditions: 
      - Translate variables to numeric or time (middle of period) as applicable.
      - One numeric var other than PWGTP must be returned.
      
